<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8" />
<title>MineSweep</title>
<style type="text/css">
body { background: green; }
</style>
<script type="text/javascript" src="Environment.js"></script>
<script type="text/javascript" src="Util.js"></script>
<script type="text/javascript" src="Movie.js"></script>
<script type="text/javascript" src="Painter.js"></script>
<script type="text/javascript" src="Widget.js"></script>
<script type="text/javascript" src="MineResource.js"></script>
<script type="text/javascript" src="MineBlock.js"></script>
<script type="text/javascript" src="MineBattleground.js"></script>
<script type="text/javascript" src="MineSweeper.js"></script>
</head>

<body>
    <canvas id="SCREEN" width="1000" height="1000"></canvas>

    <script type="text/javascript">
        const SCREEN = new Screen('SCREEN');
        // game window
        const WIDGET = new Widget;
        const STATUS = new Widget;

        SCREEN.addWindow(WIDGET);
        SCREEN.addWindow(STATUS);

        STATUS.onclick = GameStart;

        /**
         * 开始游戏
         */
        function GameStart () {
            game.resetMines(99);
            game.ready();
            game.refresh();
        }

        const game = new MineSweeper(30, 16);

        window.onload = function () {
            // 加载图片
            RES.start(GameStart);
        };
    </script>
</body>
</html>

